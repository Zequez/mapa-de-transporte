var d=!1;window.i={};
window.i.j=AA.j=function(){function a(a,c){this.options=a;this.q=c;this.options=$.extend({},{},a);this.k();this.d()}a.prototype.k=function(){if(this.q)this.g=$(this.q);else throw Error("Container element not found");if(this.g.find(".toggle_all").length)this.f=this.g.find(".toggle_all");else throw Error("'toggle all' checkbox not found");return this.c=this.g.find(":checkbox").not(this.f)};a.prototype.d=function(){var a=this;this.c.bind("change",function(c){return a.e(c.target)});return this.f.bind("change",
function(){return a.w()})};a.prototype.e=function(){if(this.c.filter(":checked").length===this.c.length-1)return this.D();if(this.c.filter(":checked").length===this.c.length)return this.v()};a.prototype.w=function(){return"checked"===this.f.attr("checked")?this.u():this.C()};a.prototype.D=function(){return this.f.removeAttr("checked")};a.prototype.v=function(){return this.f.attr("checked","checked")};a.prototype.C=function(){var a=this;return this.c.each(function(c,b){$(b).removeAttr("checked");return a.e(b)})};
a.prototype.u=function(){var a=this;return this.c.each(function(c,b){$(b).attr("checked","checked");return a.e(b)})};return a}();jQuery.s.p("checkboxToggler",AA.j);
window.i.m=AA.m=function(){function a(a,c){this.options=a;this.element=c;this.b=$(this.element);this.options=$.extend({},{F:20,G:100,o:!0,H:"#wrapper",L:null},a);this.a=null;this.l=d;0<$(this.b.attr("href")).length&&(this.a=$(this.b.attr("href")));this.t();this.d();return this}a.prototype.open=function(){this.l=!0;this.a.fadeIn(this.options.F);this.B();this.A();return this};a.prototype.close=function(){this.l=d;this.a.fadeOut(this.options.G);return this};a.prototype.t=function(){this.a.prepend('<div class="popover_nipple"></div>');
this.a.hide();this.a.addClass("popover")};a.prototype.d=function(){var a=this;$(this.options.H).bind("click",function(){if(!0===a.l)return a.close()});if(!0===this.options.o)return this.b.bind("click",function(){a.open();return d})};a.prototype.B=function(){var a,c;a=this.b.offset().left+this.b.outerWidth()/2;c=this.a.outerWidth()/2;this.a.css("left",a-c)};a.prototype.A=function(){var a,c,b;c=this.a.outerWidth()/2;this.a.css("top",this.b.offset().top+this.b.outerHeight()+10);a=this.a.find(".popover_nipple");
b=a.outerWidth()/2;a.css("left",c-b)};return a}();jQuery.s.p("popover",AA.m);
(function(){function a(a,b){function f(){this.constructor=a}for(var e in b)g.call(b,e)&&(a[e]=b[e]);f.prototype=b.prototype;a.prototype=new f;a.h=b.prototype}var g=Object.prototype.hasOwnProperty;window.i.n=AA.n=function(c){function b(){b.h.constructor.apply(this,arguments)}a(b,c);b.prototype.k=function(){return b.h.k.apply(this,arguments)};b.prototype.d=function(){var a=this;b.h.d.apply(this,arguments);return this.g.find("tbody").find("td").bind("click",function(b){if("checkbox"!==b.target.type)return a.z(b.target)})};
b.prototype.e=function(a){var c;b.h.e.apply(this,arguments);c=$(a).parents("tr");return a.checked?c.addClass("selected"):c.removeClass("selected")};b.prototype.z=function(a){return $(a).parent("tr").find(":checkbox").click()};return b}(AA.j);jQuery.s.p("tableCheckboxToggler",AA.n)}).call(this);$(function(){$(".datepicker").K({J:"yy-mm-dd"});return $(".clear_filters_btn").click(function(){window.location.search="";return d})});
jQuery(function(a){a("#batch_actions_button").r({o:d});a(document).delegate("#batch_actions_popover li a","click.rails",function(){a("#batch_action").val(a(this).attr("data-action"));return a("#collection_selection").submit()});a("#batch_actions_button").click(function(){if(!a(this).hasClass("disabled"))return a("#batch_actions_popover").is(":hidden")?a(this).r("open"):a(this).r("close"),d});if(a("#batch_actions_button").length&&a(":checkbox.toggle_all").length)return a(".paginated_collection").find("table").length?
a(".paginated_collection table").M():a(".paginated_collection").I(),a(".paginated_collection").find(":checkbox").bind("change",function(){return 0<a(".paginated_collection").find(":checkbox").filter(":checked").length?a("#batch_actions_button").removeClass("disabled"):a("#batch_actions_button").addClass("disabled")})});
